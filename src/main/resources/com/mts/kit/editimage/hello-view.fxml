<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.String?>
<?import javafx.collections.FXCollections?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Slider?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<BorderPane minHeight="600.0" minWidth="800.0" nodeOrientation="RIGHT_TO_LEFT" style="-fx-background-color: linear-gradient(to bottom, #0a0e27, #1a1d3a);" xmlns="http://javafx.com/javafx/8.0.171" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.mts.kit.editimage.HelloController">

    <top>
        <VBox prefHeight="428.0" prefWidth="989.0" spacing="0" style="-fx-background-color: transparent;">
            <!-- Modern Title Bar -->
            <HBox alignment="CENTER" style="-fx-padding: 25 30; -fx-background-color: linear-gradient(to right, #667eea 0%, #764ba2 100%); -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.6), 20, 0, 0, 5);">
                <VBox alignment="CENTER" spacing="5">
                    <Label style="-fx-text-fill: white; -fx-font-size: 28px; -fx-font-weight: bold; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.8), 10, 0, 0, 2);" text="Ø£Ø¯Ø§Ø© Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©" />
                    <Label style="-fx-text-fill: rgba(255,255,255,0.8); -fx-font-size: 14px; -fx-font-weight: 500;" text="Image Dithering Pro" />
                </VBox>
            </HBox>

            <!-- Enhanced Controls Panel -->
            <VBox spacing="20" style="-fx-padding: 25 30; -fx-background-color: rgba(26, 29, 58, 0.8); -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.4), 15, 0, 0, 3);">

                <!-- Method Selection Row -->
                <HBox alignment="CENTER_LEFT" spacing="20" style="-fx-padding: 15; -fx-background-color: rgba(102, 126, 234, 0.1); -fx-background-radius: 12; -fx-border-color: rgba(102, 126, 234, 0.3); -fx-border-width: 1; -fx-border-radius: 12;">
                    <VBox spacing="5">
                        <Label style="-fx-text-fill: #a5b4fc; -fx-font-size: 12px; -fx-font-weight: 500;" text="ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©" />
                        <ComboBox fx:id="methodCombo" prefWidth="220" style="-fx-background-color: #1e1b4b; -fx-text-fill: white; -fx-font-size: 14px; -fx-background-radius: 8; -fx-border-color: #4c1d95; -fx-border-width: 2; -fx-border-radius: 8; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 5, 0, 0, 2);">
                            <items>
                                <FXCollections fx:factory="observableArrayList">
                                    <String fx:value="Ordered Dithering" />
                                    <String fx:value="Random Dithering" />
                                    <String fx:value="Error Diffusion" />
                                </FXCollections>
                            </items>
                        </ComboBox>
                    </VBox>

                    <Region HBox.hgrow="ALWAYS" />

                    <HBox spacing="12">
                        <Button fx:id="loadBtn" onAction="#loadImage" style="-fx-background-color: linear-gradient(to right, #06b6d4, #0891b2); -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: 600; -fx-padding: 12 24; -fx-cursor: hand; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(6, 182, 212, 0.5), 10, 0, 0, 3); -fx-border-color: rgba(255,255,255,0.2); -fx-border-width: 1; -fx-border-radius: 10;" text="ðŸ“ ØªØ­Ù…ÙŠÙ„ ØµÙˆØ±Ø©" />

                        <Button fx:id="exportBtn" onAction="#exportImage" style="-fx-background-color: linear-gradient(to right, #10b981, #059669); -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: 600; -fx-padding: 12 24; -fx-cursor: hand; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(16, 185, 129, 0.5), 10, 0, 0, 3); -fx-border-color: rgba(255,255,255,0.2); -fx-border-width: 1; -fx-border-radius: 10;" text="ðŸ’¾ ØªØµØ¯ÙŠØ±" />

                        <Button fx:id="resetBtn" onAction="#resetImage" style="-fx-background-color: linear-gradient(to right, #ef4444, #dc2626); -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: 600; -fx-padding: 12 24; -fx-cursor: hand; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(239, 68, 68, 0.5), 10, 0, 0, 3); -fx-border-color: rgba(255,255,255,0.2); -fx-border-width: 1; -fx-border-radius: 10;" text="ðŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†" />
                    </HBox>
                </HBox>

                <!-- Level Adjustment Row -->
                <HBox alignment="CENTER" spacing="20" style="-fx-padding: 15; -fx-background-color: rgba(118, 75, 162, 0.1); -fx-background-radius: 12; -fx-border-color: rgba(118, 75, 162, 0.3); -fx-border-width: 1; -fx-border-radius: 12;">
                    <VBox alignment="CENTER_RIGHT" spacing="5">
                        <Label style="-fx-text-fill: #ddd6fe; -fx-font-size: 12px; -fx-font-weight: 500;" text="Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªÙØ§ØµÙŠÙ„" />
                        <Label fx:id="levelLabel" style="-fx-text-fill: #c084fc; -fx-font-size: 32px; -fx-font-weight: bold; -fx-min-width: 60px; -fx-alignment: center; -fx-effect: dropshadow(gaussian, rgba(192, 132, 252, 0.6), 8, 0, 0, 0);" text="2" />
                    </VBox>

                    <Slider fx:id="levelSlider" majorTickUnit="1" max="8" min="2" minorTickCount="0" prefWidth="400" showTickLabels="true" showTickMarks="true" style="-fx-control-inner-background: rgba(30, 27, 75, 0.6); -fx-background-radius: 10;" value="2" />

                    <Button onAction="#applyDithering" style="-fx-background-color: linear-gradient(to right, #f59e0b, #d97706); -fx-text-fill: white; -fx-font-size: 15px; -fx-font-weight: bold; -fx-padding: 14 28; -fx-cursor: hand; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(245, 158, 11, 0.6), 12, 0, 0, 4); -fx-border-color: rgba(255,255,255,0.3); -fx-border-width: 1.5; -fx-border-radius: 10;" text="âœ¨ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØ£Ø«ÙŠØ±" />
                </HBox>
            </VBox>
        </VBox>
    </top>

    <center>
        <HBox maxHeight="647.0" prefHeight="563.0" prefWidth="989.0" spacing="25" style="-fx-padding: 25 30 30 30; -fx-background-color: transparent;">
            <!-- Original Image Panel with Glassmorphism -->
            <VBox prefHeight="564.0" prefWidth="452.0" spacing="0" style="-fx-background-color: rgba(30, 27, 75, 0.4); -fx-background-radius: 16; -fx-effect: dropshadow(gaussian, rgba(102, 126, 234, 0.4), 20, 0, 0, 5); -fx-border-color: rgba(102, 126, 234, 0.3); -fx-border-width: 1; -fx-border-radius: 16;" HBox.hgrow="ALWAYS">
                <HBox alignment="CENTER" style="-fx-background-color: linear-gradient(to right, rgba(102, 126, 234, 0.3), rgba(118, 75, 162, 0.3)); -fx-padding: 16; -fx-background-radius: 16 16 0 0; -fx-border-color: rgba(102, 126, 234, 0.4); -fx-border-width: 0 0 1 0;">
                    <Label style="-fx-text-fill: #c7d2fe; -fx-font-size: 18px; -fx-font-weight: bold; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.5), 5, 0, 0, 2);" text="ðŸ–¼ï¸ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø£ØµÙ„ÙŠØ©" />
                </HBox>
                <StackPane style="-fx-background-color: rgba(10, 14, 39, 0.6); -fx-background-radius: 0 0 16 16; -fx-padding: 15;" VBox.vgrow="ALWAYS">
                    <ImageView fx:id="originalImage" fitHeight="500" fitWidth="420" preserveRatio="true" style="-fx-effect: dropshadow(gaussian, rgba(102, 126, 234, 0.3), 15, 0, 0, 0);" />
                    <VBox alignment="CENTER" prefHeight="426.0" prefWidth="420.0" spacing="10">
                        <Label style="-fx-text-fill: rgba(165, 180, 252, 0.3); -fx-font-size: 64px;" text="ðŸ“·" />
                        <Label style="-fx-text-fill: rgba(165, 180, 252, 0.6); -fx-font-size: 16px; -fx-font-weight: 500;" text="Ù„Ù… ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ ØµÙˆØ±Ø© Ø¨Ø¹Ø¯" />
                    </VBox>
                </StackPane>
            </VBox>

            <!-- Processed Image Panel with Glassmorphism -->
            <VBox spacing="0" style="-fx-background-color: rgba(30, 27, 75, 0.4); -fx-background-radius: 16; -fx-effect: dropshadow(gaussian, rgba(118, 75, 162, 0.4), 20, 0, 0, 5); -fx-border-color: rgba(118, 75, 162, 0.3); -fx-border-width: 1; -fx-border-radius: 16;" HBox.hgrow="ALWAYS">
                <HBox alignment="CENTER" style="-fx-background-color: linear-gradient(to right, rgba(118, 75, 162, 0.3), rgba(192, 132, 252, 0.3)); -fx-padding: 16; -fx-background-radius: 16 16 0 0; -fx-border-color: rgba(118, 75, 162, 0.4); -fx-border-width: 0 0 1 0;">
                    <Label style="-fx-text-fill: #e9d5ff; -fx-font-size: 18px; -fx-font-weight: bold; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.5), 5, 0, 0, 2);" text="âœ¨ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©" />
                </HBox>
                <StackPane style="-fx-background-color: rgba(10, 14, 39, 0.6); -fx-background-radius: 0 0 16 16; -fx-padding: 15;" VBox.vgrow="ALWAYS">
                    <ImageView fx:id="processedImage" fitHeight="500" fitWidth="420" preserveRatio="true" style="-fx-effect: dropshadow(gaussian, rgba(192, 132, 252, 0.3), 15, 0, 0, 0);" />
                    <VBox alignment="CENTER" prefHeight="404.0" prefWidth="420.0" spacing="10">
                        <Label style="-fx-text-fill: rgba(221, 214, 254, 0.3); -fx-font-size: 64px;" text="ðŸŽ¨" />
                        <Label style="-fx-text-fill: rgba(221, 214, 254, 0.6); -fx-font-size: 16px; -fx-font-weight: 500;" text="Ù‚Ù… Ø¨ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØ£Ø«ÙŠØ± Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ù†ØªÙŠØ¬Ø©" />
                    </VBox>
                </StackPane>
            </VBox>
         <BorderPane.margin>
            <Insets />
         </BorderPane.margin>
        </HBox>
    </center>
</BorderPane>
